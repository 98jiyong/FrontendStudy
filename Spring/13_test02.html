<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<style>
		th, td{
			width: 80px;
			text-align: center;
		}
	</style>
</head>
<body>
	<h1> 주문메뉴 </h1>
	<div id="info">
	</div>
	메뉴선택 
	<input type="text" id="inputMenu">
	수량
	<input type="text" id="inputQuantity">
	<input type="button" onclick="order()" value="주문">    
	<br>주문정보
	<hr>
	<div id="order_info">
		<table id="orderList">
			<tr>
				<th>체크</th>
				<th>메뉴명</th>
				<th>수량</th>
				<th>삭제</th>
			</tr>
		</table>
		<input type="button" id="deleteButton" value="선택삭제">
	</div>
</body>
<script>

document.getElementById('deleteButton').addEventListener('click', () => {
	// alert(orderList.rows.length)
	// alert(orderList.rows[1].cells[0].children[0])
	for(let i=1; i<orderList.rows.length; i++){
		if(orderList.rows[i].cells[0].children[0].checked){
			orderList.deleteRow(i);
			i--;
		}
	}
})
// $('#deleteButton').on('click', ()=>{
	
// })


	var menu = ['자장면','볶음밥','탕수육'];
	// menu.push("군만두");
	var pan = document.getElementById('info');
	// alert(typeof(pan))
	var menu_list = '';
	for(let i=0; i<menu.length; i++){
		menu_list += menu[i] + " ";
	}
	pan.innerHTML = menu_list;


	function order(){
		let input = document.getElementById('inputMenu').value;
		let quantity = document.getElementById('inputQuantity').value;
		for(m of menu){
			if(m == input){
				if(confirm("주문할까용?\n" + input + " " + quantity + "개")){
					let newOrder = orderList.insertRow();
					let cell0 = newOrder.insertCell(0);
					let cell1 = newOrder.insertCell(1);
					let cell2 = newOrder.insertCell(2);
					let cell3 = newOrder.insertCell(3);
					cell0.innerHTML = "<input type =\"checkbox\">";
					cell1.innerHTML = input;
					cell2.innerHTML = quantity + "개";
					cell3.innerHTML = "<input type =\"button\" id = \"close\" value=\"삭제\">";
					alert("주문 완료.")
				}else{
					alert("주문을 취소합니다.")
				}
				return;
			}
		}
		alert("메뉴가 아리마셍");
	}

	// 05answer01.html    
	// 1. html문서가 로딩 될 때 #info에 menu배열에 정의된 모든 메뉴가 보여진다.
	// 2. 메뉴선택에 메뉴를 입력하고  주문을 누르면 입력된 메뉴가 실제 존재하는 메뉴가
	//    아니면 메뉴가 없습니다는 경고창을 띄운다.
	// 3. 메뉴가 존재하면 confirm() 창을 띄우고 확인을 누르면 
	//     주문정보에 파란색의 글씨로 선태한 메뉴를 출력한다.

	// 05answer02.html
	// 1. 위 1번과 2번 동일하다.
	// 2. 메뉴선택 옆에 수량을 입력하도록 html을 수정 한다.
	// 3. 주문을 입력하여 메뉴가 존재하면 confirm()을 띄우고, 이때 메뉴와 수량이
	//    확인되어야 한다. 
	// 4. 주문정보에 체크박스, 메뉴명, 수량, 삭제버튼이 나오게 한다.
	// 5. 삭제 버튼을 누르면 주문 삭제가 가능하다.
    
</script>
</html>